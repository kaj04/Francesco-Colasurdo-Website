<footer class="fc-footer" aria-label="Contatti">
  <div class="fc-footer__inner">
    <span class="fc-copy"> Puoi contattarmi quando vuoi:</span>
    <a class="fc-link" href="mailto:francesco.colasurdo04@gmail.com" rel="me">Gmail</a>
    <span class="fc-sep">â€¢</span>
    <a class="fc-link" href="https://www.linkedin.com/in/francesco-colasurdo" target="_blank" rel="noopener me">LinkedIn</a>
  </div>
</footer>

<!-- ================= CHAT WIDGET (HTML + CSS inline) ================= -->
<!-- Launcher (bottone) -->
<button id="fc-launcher" class="fc-fab" aria-controls="fc-panel" aria-haspopup="dialog">
  <span class="fc-icon">ðŸ’¬</span>
  <span class="fc-label">Ask about ME</span>
</button>

<!-- Pannello -->
<div id="fc-panel" class="fc-panel" role="dialog" aria-modal="false" aria-labelledby="fc-chat-title" hidden>
  <header class="fc-header">
    <h2 id="fc-chat-title" class="fc-title">Francescoâ€™s Career Assistant</h2>
    <p class="fc-sub">Every answer is generated strictly from my real experience and knowledge, nothing hallucinated.</p>
  </header>

  <div class="fc-messages"></div>

  <form class="fc-form">
    <textarea class="fc-input" placeholder="Ask about meâ€¦" rows="1"></textarea>
    <button type="submit" class="fc-send">Send</button>
  </form>
</div>

<!-- CSS inline -->
<style>
:root{
  --laurel-green:#2e7d32;         /* verde corona d'alloro */
  --laurel-green-strong:#1b5e20;
}

/* ====== launcher (nuovo, grande, con onde) ====== */
.fc-fab{
  position:fixed; right:24px; bottom:24px; z-index:9999;
  display:flex; align-items:center; gap:.7rem;
  padding:1.05rem 1.25rem; border:none; cursor:pointer;
  border-radius:999px; color:#fff;
  background:linear-gradient(135deg, var(--laurel-green), var(--laurel-green-strong));
  box-shadow:0 16px 40px rgba(34,139,34,.45), 0 2px 8px rgba(0,0,0,.15);
  font-weight:800; font-size:16px; letter-spacing:.2px;
  outline:3px solid rgba(255,255,255,.85);
}
.fc-icon{font-size:22px; line-height:0}
.fc-fab:hover{transform:translateY(-2px)}
.fc-fab:active{transform:translateY(0)}
.fc-fab::after{
  content:""; position:absolute; inset:-8px; border-radius:999px;
  border:2px solid rgba(46,125,50,.35);
  animation:fc-pulse 2.4s infinite;
}
@keyframes fc-pulse{
  0%{transform:scale(0.95); opacity:.7}
  70%{transform:scale(1.15); opacity:0}
  100%{opacity:0}
}

/* ====== pannello (stile originale) ====== */
.fc-panel[hidden]{display:none !important;}
.fc-panel{
  position:fixed; right:20px; bottom:92px; width:420px; max-height:70vh;
  background:#fff; border-radius:16px; overflow:hidden;
  box-shadow:0 18px 50px rgba(0,0,0,.25); display:flex; flex-direction:column;
  z-index:10000;
}
@media (max-width:480px){
  .fc-panel{left:0; right:0; bottom:0; width:auto; max-height:100vh; border-radius:16px 16px 0 0;}
}
.fc-header{display:flex; flex-direction:column; gap:.25rem; padding:.8rem 1rem; border-bottom:1px solid #eee}
.fc-title{font-weight:800; margin:0}
.fc-sub{margin:0; font-size:.95rem; color:#555; font-style:italic}

/* area messaggi: stile originale + scroll migliore */
.fc-messages{padding:1rem; overflow:auto; display:flex; flex-direction:column; gap:.65rem;
  overscroll-behavior:contain; touch-action:pan-y;}
.fc-msg{max-width:85%; padding:.6rem .75rem; border-radius:12px; line-height:1.4}
.fc-me{
  align-self:flex-end;
  background:#e9ecef;   
  color:#111;           
  border:1px solid #d9dde1;
}
.fc-bot{align-self:flex-start; background:#f2f2f2}

/* typing */
.fc-typing{display:flex; align-items:center; gap:.5rem; color:#666; font-size:.85rem}
.fc-dots span{display:inline-block; width:6px; height:6px; margin:0 1px; border-radius:50%; background:#bbb; animation:fc-blink 1.2s infinite}
.fc-dots span:nth-child(2){animation-delay:.2s} .fc-dots span:nth-child(3){animation-delay:.4s}
@keyframes fc-blink{0%,80%,100%{opacity:.2} 40%{opacity:1}}

/* form (stile originale) */
.fc-form{display:flex; gap:.5rem; padding:.75rem; border-top:1px solid #eee; background:#fff}
.fc-input{flex:1; resize:none; border:1px solid #ddd; border-radius:10px; padding:.6rem}
.fc-send{border:none; background:var(--laurel-green); color:#fff; border-radius:10px; padding:.6rem .9rem; cursor:pointer; font-weight:700}
.fc-send:hover{background:var(--laurel-green-strong)}

/* chips (stile originale, dimensione contenuta) */
.fc-chip{border:1px solid #ddd; background:#f7f7f7; border-radius:999px; padding:.35rem .6rem; cursor:pointer; font-size:.9rem}
.fc-chip:hover{background:#f0f0f0}
</style>

<!-- Endpoint backend -->
<script>
  window.FC_API_URL = "https://cv-assistant-backend-jb20.onrender.com/api/chat";
</script>

{{ $chat := resources.Get "js/extended/chat-widget.js" | js.Build "chat-widget.js" | minify | fingerprint }}
<script type="text/javascript" src="{{ $chat.Permalink }}" integrity="{{ $chat.Data.Integrity }}"></script>
